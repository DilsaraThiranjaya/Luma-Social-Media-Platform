<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luma | Profile</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="icon" href="../assets/image/Luma-logo.jpeg" />
    <link rel="stylesheet" href="../assets/css/profile.css" />
    <link rel="stylesheet" href="../assets/css/timeline.css" />
    <link rel="stylesheet" href="../assets/css/common.css" />
  </head>
  <body>
    <div id="app">
      <div class="dashboard-container">
        <!-- Navigation Bar -->
        <nav class="navbar navbar-expand-lg navbar-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="/">
              <img src="../assets/image/Luma-logo.jpeg" alt="Luma Logo" />
            </a>
            <div class="search-container" style="flex: 1 1 500px; max-width: 600px;">
              <i class="bi bi-search search-icon"></i>
              <input type="text"
                     class="form-control search-input"
                     placeholder="Search people and posts here..."
                     id="mainSearchInput"
                     autocomplete="off">
            </div>
            <div class="navbar-nav ms-auto d-flex gap-1 nav-icons">
              <a
                class="nav-link"
                href="timeline.html"
                data-bs-toggle="tooltip"
                title="Home"
              >
                <i class="fa-solid fa-house-chimney"></i>
              </a>
              <a
                class="nav-link"
                href="friends.html"
                data-bs-toggle="tooltip"
                title="Friends"
              >
                <i class="fa-solid fa-user-group"></i>
                <span class="badge rounded-pill bg-danger">7</span>
              </a>
              <a
                class="nav-link"
                href="market.html"
                data-bs-toggle="tooltip"
                title="Market"
              >
                <i class="fa-solid fa-shop"></i>
              </a>
              <a
                class="nav-link"
                href="messages.html"
                data-bs-toggle="tooltip"
                title="Messages"
              >
                <i class="fa-solid fa-message"></i>
                <span class="badge rounded-pill bg-danger">3</span>
              </a>
              <a
                class="nav-link"
                href="notifications.html"
                data-bs-toggle="tooltip"
                title="Notifications"
              >
                <i class="fa-solid fa-bell"></i>
                <span class="badge rounded-pill bg-danger">5</span>
              </a>
            </div>
            <div class="navbar-nav nav-icons work-menu">
              <a
                      class="nav-link profile-link active"
                      href="#"
                      id="profileDropdown"
                      data-bs-toggle="dropdown"
                      title="Profile"
              >
                <img id="navBarProfileImg"
                     src="../assets/image/Profile-picture.png"
                     alt="Profile"
                     class="profile-img"
                />
                <span id="profile-down-arrow"
                ><i class="fa-solid fa-circle-chevron-down"></i
                ></span>
              </a>
              <div
                      class="dropdown-menu dropdown-menu-end"
                      aria-labelledby="profileDropdown"
              >
                <a href="profile.html">
                  <div class="d-flex align-items-center px-3 py-2">
                    <img id="navProfileImg"
                         src="../assets/image/Profile-picture.png"
                         alt="Profile"
                         class="rounded-circle me-2"
                         width="40"
                    />
                    <div>
                      <h6 class="mb-0" id="navProfileName">Name</h6>
                    </div>
                  </div>
                </a>
                <hr class="my-1" />
                <a id="adminButton" class="dropdown-item" href="admin/dashboard.html">
                  <i class="fa-solid fa-user-tie me-2"></i></i> Administration
                </a>
                <a class="dropdown-item" href="settings.html">
                  <i class="bi bi-gear-fill me-2"></i> Settings & Privacy
                </a>
                <a  id="logoutButton" class="dropdown-item text-danger" href="#">
                  <i class="bi bi-box-arrow-right me-2"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </nav>

        <!-- Search Overlay -->
        <div class="search-overlay">
          <div class="search-header">
            <div class="container-fluid">
              <div class="d-flex align-items-center">
                <i class="bi bi-search fs-4 text-muted me-3"></i>
                <input type="text"
                       class="search-input-full"
                       placeholder="Search people and posts here..."
                       id="fullSearchInput"
                       autocomplete="off">
                <button class="btn-close-search ms-auto">
                  <i class="bi bi-x-lg"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="search-results-full container-fluid">
            <!-- Search results will be dynamically inserted here -->
          </div>
        </div>

        <!-- Profile Content -->
        <div class="profile-container">
          <!-- Cover Image Section -->
          <div class="cover-image-container">
            <img
              src="https://images.unsplash.com/photo-1579546929518-9e396f3cc809"
              alt="Cover"
              class="cover-image"
              id="coverImage"
            />
          </div>

          <!-- Profile Info Section -->
          <div class="profile-info-container">
            <div class="container">
              <div class="row">
                <div class="col-md-8">
                  <div class="profile-header">
                    <div class="profile-picture-container">
                      <img
                              src="../assets/image/Profile-picture.png"
                              alt="Profile Picture"
                              class="profile-picture"
                              id="profileImage"
                      />
                    </div>
                    <div class="profile-info">
                      <h1 id="profileName">Name</h1>
                      <div class="profile-stats">
                        <div class="stat-item">
                          <span id="postCount" class="stat-number">0</span>
                          <span class="stat-label">Posts</span>
                        </div>
                        <div class="stat-item">
                          <span id="followerCount" class="stat-number">0</span>
                          <span class="stat-label">Followers</span>
                        </div>
                        <div class="stat-item">
                          <span id="followingCount" class="stat-number">0</span>
                          <span class="stat-label">Following</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="profile-actions">
                    <button class="btn btn-primary btn-lg add-friend-btn">
                      <i class="bi bi-person-plus-fill"></i> Add Friend
                    </button>
                    <button class="btn btn-primary btn-lg unfriend-btn">
                      <i class="bi bi-person-dash-fill"></i> Unfriend
                    </button>

                    <button class="btn btn-outline-primary btn-lg message-btn">
                      <i class="bi bi-chat-dots"></i> Message
                    </button>
                    <div class="dropdown">
                      <button
                        class="btn btn-light btn-lg"
                        data-bs-toggle="dropdown"
                      >
                        <i class="bi bi-three-dots"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#" id="reportProfile">
                            <i class="bi bi-flag"></i> Report Profile
                          </a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#" id="blockProfile">
                            <i class="bi bi-ban"></i> Block User
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Profile Content Tabs -->
          <div class="profile-content">
            <div class="container">
              <ul class="nav nav-tabs profile-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    data-bs-toggle="tab"
                    data-bs-target="#posts"
                  >
                    <i class="bi bi-grid-3x3"></i> Posts
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="tab"
                    data-bs-target="#about"
                  >
                    <i class="bi bi-person"></i> About
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="tab"
                    data-bs-target="#friends"
                  >
                    <i class="bi bi-people"></i> Friends
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="tab"
                    data-bs-target="#photos"
                  >
                    <i class="bi bi-image"></i> Photos
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                          class="nav-link"
                          data-bs-toggle="tab"
                          data-bs-target="#videos"
                  >
                    <i class="bi bi-camera-reels"></i> Videos
                  </button>
                </li>
              </ul>

              <div class="tab-content">
                <!-- Posts Tab -->
                <div class="tab-pane fade show active" id="posts">
                  <div class="row">
                    <div class="col-md-8">

                      <!-- Posts List -->
                      <div class="posts-container">

                      </div>
                    </div>

                    <div class="col-md-4">
                      <!-- About Card -->
                      <div class="card mb-4">
                        <div class="card-body">
                          <h5 class="card-title mb-2">About</h5>
                          <p class="text-muted mb-2" id="profileBio">
                            Passionate software developer with a love for
                            creating innovative solutions. Always learning,
                            always growing.
                          </p>
                          <div class="about-info">
                            <div class="info-item profile-work-item">
                              <i class="bi bi-briefcase"></i>
                              <span id="profileWork">Works at Tech Solutions Ltd</span>
                            </div>
                            <div class="info-item profile-education-item">
                              <i class="bi bi-mortarboard"></i>
                              <span id="profileEducation">Studied at University of Colombo</span>
                            </div>
                            <div class="info-item profile-location-item">
                              <i class="bi bi-house"></i>
                              <span id="profileLocation">Lives in Galle, Sri Lanka</span>
                            </div>
                            <div class="info-item">
                              <i class="bi bi-calendar"></i>
                              <span id="profileJoined">Joined October 2023</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Photos Card -->
                      <div class="card mb-4">
                        <div class="card-body">
                          <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Photos</h5>
                            <a href="#" class="text-primary see-all-photos">See All</a>
                          </div>
                          <div class="row g-2" id="sidebarPhotosContainer">
                            <!-- Dynamic content will be loaded here -->
                          </div>
                        </div>
                      </div>

                      <!-- Videos Card -->
                      <div class="card mb-4">
                        <div class="card-body">
                          <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Videos</h5>
                            <a href="#" class="text-primary see-all-videos">See All</a>
                          </div>
                          <div class="row g-2" id="sidebarVideosContainer">
                            <!-- Dynamic content will be loaded here -->
                          </div>
                        </div>
                      </div>

                      <!-- Friends Card -->
                      <div class="card">
                        <div class="card-body">
                          <div
                            class="d-flex justify-content-between align-items-center mb-3"
                          >
                            <h5 class="card-title mb-0">Friends</h5>
                            <a href="#" class="text-primary">See All</a>
                          </div>
                          <div class="friends-grid">
                            <div class="friend-item">
                              <img
                                src="../assets/image/Test-profile-img.jpg"
                                alt="Friend"
                                class="rounded-circle"
                              />
                              <span>John Doe</span>
                            </div>
                            <div class="friend-item">
                              <img
                                src="../assets/image/Test-profile-img.jpg"
                                alt="Friend"
                                class="rounded-circle"
                              />
                              <span>Jane Smith</span>
                            </div>
                            <div class="friend-item">
                              <img
                                src="../assets/image/Test-profile-img.jpg"
                                alt="Friend"
                                class="rounded-circle"
                              />
                              <span>Mike Johnson</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- About Tab -->
                <div class="tab-pane fade" id="about">
                  <div class="row">
                    <div class="col-md-4">
                      <div class="card mb-4">
                        <div class="card-body">
                          <h5 class="section-title">Basic Information</h5>
                          <div class="info-list">
                            <div class="info-item">
                              <i class="bi bi-person"></i>
                              <div>
                                <label>Name</label>
                                <span id="aboutName">Name</span>
                              </div>
                            </div>
                            <div class="info-item about-email-item">
                              <i class="bi bi-envelope"></i>
                              <div>
                                <label>Email</label>
                                <span id="aboutEmail">temp@example.com</span>
                              </div>
                            </div>
                            <div class="info-item about-phone-item">
                              <i class="bi bi-phone"></i>
                              <div>
                                <label>Phone</label>
                                <span id="aboutPhone">+94 71 234 5678</span>
                              </div>
                            </div>
                            <div class="info-item about-birthday-item">
                              <i class="bi bi-calendar"></i>
                              <div>
                                <label>Birthday</label>
                                <span id="aboutBirthday">January 15, 1995</span>
                              </div>
                            </div>
                            <div class="info-item about-location-item">
                              <i class="bi bi-geo-alt"></i>
                              <div>
                                <label>Location</label>
                                <span id="aboutLocation">Galle, Sri Lanka</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="card mb-4">
                        <div class="card-body">
                          <h5 class="section-title mb-3">Work Experience</h5>
                          <div class="timeline" id="workTimeline">
                            <div class="timeline-item">
                              <div class="timeline-marker"></div>
                              <div class="timeline-content">
                                <h6>Software Engineer</h6>
                                <p class="company">Tech Solutions Ltd</p>
                                <p class="period">2023 - Present</p>
                                <p class="description">
                                  Leading the development of innovative web
                                  applications using modern technologies and
                                  best practices.
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-body">
                          <h5 class="section-title mb-3">Education</h5>
                          <div class="timeline" id="educationTimeline">
                            <div class="timeline-item">
                              <div class="timeline-marker"></div>
                              <div class="timeline-content">
                                <h6>BSc in Computer Science</h6>
                                <p class="company">University of Colombo</p>
                                <p class="period">2019 - 2023</p>
                                <p class="description">
                                  Specialized in software engineering and web
                                  technologies. Graduated with First Class
                                  Honours.
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Friends Tab -->
                <div class="tab-pane fade" id="friends">
                  <div class="friends-container">
                    <div class="row g-4">
                      <div class="col-md-3">
                        <div class="friend-card">
                          <img
                            src="../assets/image/Test-profile-img.jpg"
                            alt="Friend"
                            class="friend-image"
                          />
                          <div class="friend-info">
                            <h6>John Doe</h6>
                            <p class="text-muted">Software Developer</p>
                            <div class="friend-actions">
                              <button class="btn btn-primary btn-sm">
                                Message
                              </button>
                              <button class="btn btn-outline-primary btn-sm">
                                Unfriend
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- Add more friend cards here -->
                    </div>
                  </div>
                </div>

                <!-- Photos Tab -->
                <div class="tab-pane fade" id="photos">
                  <div class="photos-container">
                    <div class="row g-3" id="photosContainer">
                      <!-- Dynamic content -->
                    </div>
                  </div>
                </div>

                <!-- Videos Tab -->
                <div class="tab-pane fade" id="videos">
                  <div class="videos-container">
                    <div class="row g-3" id="videosContainer">
                      <!-- Dynamic content -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Report Post Modal -->
    <div class="modal fade" id="reportPostModal" tabindex="-1" aria-labelledby="reportPostModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header gradient-bg">
            <h5 class="modal-title text-white" id="reportPostModalLabel">Report Post</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                    aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <!-- Report Type Selection -->
            <div class="mb-4">
              <label class="form-label">Report Type</label>
              <div class="dropdown">
                <button class="btn dropdown-btn btn-outline-secondary dropdown-toggle w-100 text-start"
                        type="button" id="reportTypeDropdown" data-bs-toggle="dropdown">
                  Select Report Type
                </button>
                <ul class="dropdown-menu shadow-sm">
                  <li><a class="dropdown-item" href="#" data-value="SPAM">Spam</a></li>
                  <li><a class="dropdown-item" href="#" data-value="HARASSMENT">Harassment</a></li>
                  <li><a class="dropdown-item" href="#" data-value="INAPPROPRIATE">Inappropriate Content</a></li>
                  <li><a class="dropdown-item" href="#" data-value="OTHER">Other</a></li>
                </ul>
              </div>
              <div class="validation-message" id="typeError"></div>
            </div>

            <!-- Priority Selection -->
            <div class="mb-4">
              <label class="form-label">Priority</label>
              <div class="dropdown">
                <button class="btn dropdown-btn btn-outline-secondary dropdown-toggle w-100 text-start"
                        type="button" id="priorityDropdown" data-bs-toggle="dropdown">
                  Select Priority
                </button>
                <ul class="dropdown-menu shadow-sm">
                  <li><a class="dropdown-item" href="#" data-value="HIGH">High</a></li>
                  <li><a class="dropdown-item" href="#" data-value="MEDIUM">Medium</a></li>
                  <li><a class="dropdown-item" href="#" data-value="LOW">Low</a></li>
                </ul>
              </div>
            </div>

            <!-- Description -->
            <div class="mb-3">
              <label class="form-label">Description</label>
              <textarea class="form-control" id="reportDescription" rows="4"
                        placeholder="Please provide details about your report..."></textarea>
              <div class="validation-message" id="descriptionError"></div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn rounded-5 btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-post" id="submitReportBtn">Submit Report</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Media Modal -->
    <div class="modal fade" id="mediaModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-body text-center p-0">
            <button type="button" class="btn-close position-absolute top-0 end-0 m-3 bg-white rounded-circle media-close" data-bs-dismiss="modal"></button>
            <div id="mediaContainer"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../assets/js/profile-view.js"></script>
    <script src="../assets/js/search.js"></script>
  </body>
</html>
